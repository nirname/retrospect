<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>mongodb</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="../../assets/github-markdown.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="install-mongodb">Install MongoDB</h1>
<h2 id="import-the-public-key-used-by-the-package-management-system">Import the public key used by the package management system</h2>
<p>The Ubuntu package management tools (i.e.Â dpkg and apt) ensure package consistency and authenticity by requiring that distributors sign packages with GPG keys. Issue the following command to import the MongoDB public GPG Key:</p>
<pre><code>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10</code></pre>
<h2 id="create-a-list-file-for-mongodb">Create a list file for MongoDB</h2>
<p>Create the /etc/apt/sources.list.d/mongodb-org-3.0.list list file using the following command:</p>
<pre><code>echo &quot;deb http://repo.mongodb.org/apt/ubuntu &quot;$(lsb_release -sc)&quot;/mongodb-org/3.0 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.0.list

echo &quot;deb http://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/3.0 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.0.list</code></pre>
<h2 id="reload-local-package-database">Reload local package database</h2>
<p>Issue the following command to reload the local package database:</p>
<pre><code>sudo apt-get update</code></pre>
<h2 id="install-the-mongodb-packages">Install the MongoDB packages</h2>
<p>You can install either the latest stable version of MongoDB or a specific version of MongoDB.</p>
<h3 id="install-the-latest-stable-version-of-mongodb">Install the latest stable version of MongoDB</h3>
<p>Issue the following command:</p>
<pre><code>sudo apt-get install -y mongodb-org</code></pre>
<h3 id="install-a-specific-release-of-mongodb">Install a specific release of MongoDB</h3>
<p>Specify each component package individually and append the version number to the package name, as in the following example:</p>
<pre><code>sudo apt-get install -y mongodb-org=3.0.1 mongodb-org-server=3.0.1 mongodb-org-shell=3.0.1 mongodb-org-mongos=3.0.1 mongodb-org-tools=3.0.1</code></pre>
<h3 id="pin-a-specific-version-of-mongodb">Pin a specific version of MongoDB</h3>
<p>Although you can specify any available version of MongoDB, apt-get will upgrade the packages when a newer version becomes available. To prevent unintended upgrades, pin the package. To pin the version of MongoDB at the currently installed version, issue the following command sequence:</p>
<pre><code>echo &quot;mongodb-org hold&quot; | sudo dpkg --set-selections
echo &quot;mongodb-org-server hold&quot; | sudo dpkg --set-selections
echo &quot;mongodb-org-shell hold&quot; | sudo dpkg --set-selections
echo &quot;mongodb-org-mongos hold&quot; | sudo dpkg --set-selections
echo &quot;mongodb-org-tools hold&quot; | sudo dpkg --set-selections</code></pre>
<p>Versions of the MongoDB packages before 2.6 use a different repo location. Refer to the version of the documentation appropriate for your MongoDB version.</p>
<h1 id="run-mongodb">Run MongoDB</h1>
<p>The MongoDB instance stores its data files in /var/lib/mongodb and its log files in /var/log/mongodb by default, and runs using the mongodb user account. You can specify alternate log and data file directories in /etc/mongod.conf. See systemLog.path and storage.dbPath for additional information.</p>
<p>If you change the user that runs the MongoDB process, you must modify the access control rights to the /var/lib/mongodb and /var/log/mongodb directories to give this user access to these directories.</p>
<h2 id="start-mongodb">Start MongoDB</h2>
<p>Issue the following command to start mongod:</p>
<pre><code>sudo service mongod start</code></pre>
<h2 id="verify-that-mongodb-has-started-successfully">Verify that MongoDB has started successfully</h2>
<p>Verify that the mongod process has started successfully by checking the contents of the log file at /var/log/mongodb/mongod.log for a line reading</p>
<pre><code>[initandlisten] waiting for connections on port &lt;port&gt;</code></pre>
<p>where <code>&lt;port&gt;</code> is the port configured in <code>/etc/mongod.conf</code>, 27017 by default.</p>
<pre><code>mongod --version</code></pre>
<h2 id="stop-mongodb">Stop MongoDB</h2>
<p>As needed, you can stop the mongod process by issuing the following command:</p>
<pre><code>sudo service mongod stop</code></pre>
<h2 id="restart-mongodb">Restart MongoDB</h2>
<p>Issue the following command to restart mongod:</p>
<pre><code>sudo service mongod restart</code></pre>
<h2 id="begin-using-mongodb">Begin using MongoDB</h2>
<p>To begin using MongoDB, see Getting Started with MongoDB. Also consider the Production Notes document before deploying MongoDB in a production environment.</p>
<p>Later, to stop MongoDB, press Control+C in the terminal where the mongod instance is running.</p>
</body>
</html>
